<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>💘 유빈♥동균 연애 시뮬레이션 💘</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #ffe6e6, #ffd6cc);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        animation: backgroundShift 10s ease-in-out infinite alternate;
      }

      @keyframes backgroundShift {
        0% {
          background: linear-gradient(135deg, #ffe6e6, #ffd6cc);
        }
        100% {
          background: linear-gradient(135deg, #ffd6cc, #ffe6e6);
        }
      }

      .game-container {
        background-color: white;
        padding: 2rem;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
        max-width: 800px;
        width: 90%;
        border: 3px solid #ffb3ba;
      }

      h1 {
        text-align: center;
        color: #ff6b6b;
        margin-bottom: 2rem;
        text-shadow: 2px 2px 4px rgba(255, 107, 107, 0.3);
        animation: pulse 2s ease-in-out infinite alternate;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        100% {
          transform: scale(1.05);
        }
      }

      .game-info {
        background: linear-gradient(135deg, #fff5f5, #ffe6e6);
        padding: 1.5rem;
        border-radius: 15px;
        margin-bottom: 2rem;
        border: 2px solid #ffcccc;
      }

      #day-info {
        font-size: 1.4rem;
        font-weight: bold;
        color: #ff6b6b;
        margin-bottom: 0.8rem;
        text-align: center;
      }

      #stats {
        display: flex;
        justify-content: space-around;
        color: #666;
        font-weight: bold;
      }

      .stat-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
      }

      .affection-bar,
      .mistakes-bar {
        width: 100px;
        height: 10px;
        background-color: #eee;
        border-radius: 5px;
        overflow: hidden;
      }

      .affection-fill {
        height: 100%;
        background: linear-gradient(90deg, #ff6b6b, #ff8a80);
        transition: width 0.5s ease;
      }

      .mistakes-fill {
        height: 100%;
        background: linear-gradient(90deg, #666, #999);
        transition: width 0.5s ease;
      }

      .event-container {
        background-color: #fff;
        padding: 2rem;
        border-radius: 15px;
        border: 3px solid #ffe6e6;
        box-shadow: inset 0 2px 10px rgba(255, 107, 107, 0.1);
      }

      #event-text {
        font-size: 1.2rem;
        margin-bottom: 2rem;
        line-height: 1.8;
        padding: 1rem;
        background-color: #fafafa;
        border-radius: 10px;
        border-left: 5px solid #ff6b6b;
      }

      #choices {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .choice-btn {
        padding: 1.2rem;
        border: none;
        background: linear-gradient(135deg, #ff6b6b, #ff8a80);
        color: white;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1rem;
        font-weight: bold;
        text-align: left;
        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
      }

      .choice-btn:hover {
        background: linear-gradient(135deg, #ff5252, #ff6b6b);
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
      }

      .choice-btn:active {
        transform: translateY(0);
      }

      .choice-btn:disabled {
        background: linear-gradient(135deg, #ccc, #ddd);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .ending-container {
        text-align: center;
        padding: 2rem;
        background: linear-gradient(135deg, #fff5f5, #ffe6e6);
        border-radius: 15px;
        margin-top: 1rem;
      }

      .ending-text {
        font-size: 1.3rem;
        font-weight: bold;
        margin-bottom: 1rem;
        color: #ff6b6b;
      }

      .restart-btn {
        padding: 1rem 2rem;
        background: linear-gradient(135deg, #4caf50, #45a049);
        color: white;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: bold;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
      }

      .restart-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
      }

      @media (max-width: 600px) {
        .game-container {
          padding: 1rem;
          width: 95%;
        }

        h1 {
          font-size: 1.5rem;
        }

        #stats {
          flex-direction: column;
          gap: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <h1>💘 유빈♥동균 연애 시뮬레이션 💘</h1>
      <div class="game-info">
        <div id="day-info">Day 1</div>
        <div id="stats">
          <div class="stat-item">
            <div>호감도: <span id="affection">50</span>/100</div>
            <div class="affection-bar">
              <div
                class="affection-fill"
                id="affection-fill"
                style="width: 50%"
              ></div>
            </div>
          </div>
          <div class="stat-item">
            <div>실수 횟수: <span id="mistakes">0</span>/3</div>
            <div class="mistakes-bar">
              <div
                class="mistakes-fill"
                id="mistakes-fill"
                style="width: 0%"
              ></div>
            </div>
          </div>
        </div>
      </div>
      <div class="event-container">
        <div id="event-text"></div>
        <div id="choices"></div>
      </div>
    </div>

    <script>
      class DatingSimulator {
        constructor() {
          this.day = 1;
          this.affection = 50;
          this.mistakes = 0;
          this.specialFlags = {
            hasGift: false,
            hasDate: false,
            hasMovie: false,
            hasTravel: false,
            hasConfession: false,
          };
          this.events = [
            {
              day: 1,
              text: "💬 [Event] 유빈이 생일이에요! 동균이는 어떻게 할까요?",
              choices: [
                {
                  text: "💝 정성 가득한 편지와 선물을 준비한다",
                  affection: 12,
                  flag: "hasGift",
                },
                { text: "📱 카톡 이모티콘만 보낸다", affection: -5 },
                { text: "🤷‍♂️ 아무것도 하지 않는다", affection: -10 },
              ],
            },
            {
              day: 2,
              text: "💬 [Event] 동균이가 유빈이에게 밥 약속을 잡으려 해요.",
              choices: [
                {
                  text: "🍽️ '이번 주말 어때? 내가 맛집 찾아볼게!'",
                  affection: 10,
                  flag: "hasDate",
                },
                { text: "😐 '그냥 대충 근처에서 먹자'", affection: -3 },
                { text: "📞 '언제든 시간 되면 연락해'", affection: 5 },
              ],
            },
            {
              day: 3,
              text: "💬 [Event] 유빈이가 동균이에게 영화를 보자고 해요.",
              choices: [
                {
                  text: "💕 '좋아! 로맨스 영화는 어때?'",
                  affection: 8,
                  flag: "hasMovie",
                },
                { text: "💥 '난 액션 영화가 좋은데...'", affection: -3 },
                { text: "🤔 '네가 고르는 걸로 하자'", affection: 6 },
              ],
            },
            {
              day: 4,
              text: "💬 [Event] 유빈이가 갑자기 기분이 좋지 않아 보여요.",
              choices: [
                { text: "🤗 '무슨 일 있어? 내가 들어줄게'", affection: 10 },
                { text: "😕 '나도 오늘 컨디션이 안 좋아'", affection: -7 },
                { text: "☕ '커피 한잔 할까? 기분 전환하자'", affection: 7 },
              ],
            },
            {
              day: 5,
              text: "💬 [Event] 유빈이가 여행을 가자고 제안해요.",
              choices: [
                {
                  text: "✈️ '좋아! 제주도는 어때?'",
                  affection: 15,
                  flag: "hasTravel",
                },
                { text: "😰 '여행은 좀 부담스러울 것 같아'", affection: -8 },
                { text: "🗓️ '계획을 세워보자'", affection: 8 },
              ],
            },
            {
              day: 6,
              text: "💬 [Event] 유빈이의 친구들이 동균이를 만나고 싶어해요.",
              choices: [
                { text: "😊 '좋아! 같이 밥 먹자'", affection: 9 },
                { text: "😬 '아직은 좀 그렇지 않을까?'", affection: -5 },
                { text: "🎉 '언제든 환영이야!'", affection: 12 },
              ],
            },
            {
              day: 7,
              text: "💬 [Event] 유빈이가 동균이의 취미에 대해 궁금해해요.",
              choices: [
                { text: "📚 '책 읽는 걸 좋아해. 너는 어때?'", affection: 8 },
                { text: "🤷‍♂️ '별로 취미 없어'", affection: -4 },
                { text: "🎮 '게임이랑 영화 보는 거 좋아해'", affection: 6 },
              ],
            },
            {
              day: 8,
              text: "💬 [Event] 유빈이가 동균이의 과거 연애 경험을 물어봐요.",
              choices: [
                { text: "😌 솔직하게 이야기한다", affection: 7 },
                { text: "😅 '그런 얘기는 좀 그렇지 않을까?'", affection: -6 },
                { text: "🤗 '너만 있으면 돼'", affection: 10 },
              ],
            },
            {
              day: 9,
              text: "💬 [Event] 유빈이가 동균이에게 진지한 고민을 털어놓아요.",
              choices: [
                { text: "🫂 진심으로 공감하고 조언한다", affection: 12 },
                { text: "😐 그냥 대충 넘긴다", affection: -10 },
                { text: "💪 '함께 해결해보자'", affection: 15 },
              ],
            },
            {
              day: 10,
              text: "💬 [Event] 분위기가 무르익었어요. 유빈이가 고백을 기다리고 있는 것 같아요.",
              choices: [
                {
                  text: "💖 '너를 좋아해. 나랑 사귀자'",
                  affection: 20,
                  flag: "hasConfession",
                },
                { text: "😰 '아직은 좀 이른 것 같아'", affection: -12 },
                { text: "🤝 '좋은 친구로 지내자'", affection: -5 },
              ],
            },
            {
              day: 11,
              text: "💬 [Event] 유빈이의 부모님이 동균이를 만나고 싶어하세요.",
              choices: [
                { text: "😊 기꺼이 만나러 간다", affection: 12 },
                { text: "😬 '아직은 좀 부담스러워'", affection: -8 },
                { text: "🎁 '선물을 준비해서 가야겠어'", affection: 15 },
              ],
            },
            {
              day: 12,
              text: "💬 [Event] 유빈이가 동균이의 미래 계획을 물어봐요.",
              choices: [
                { text: "💼 진지하게 미래 계획을 이야기한다", affection: 10 },
                { text: "🤷‍♂️ '아직은 잘 모르겠어'", affection: -5 },
                { text: "💕 '너와 함께하는 미래를 꿈꿔'", affection: 15 },
              ],
            },
            {
              day: 13,
              text: "💬 [Event] 유빈이가 동균이에게 특별한 선물을 주려고 해요.",
              choices: [
                {
                  text: "🎁 '고마워, 나도 너를 위한 선물이 있어'",
                  affection: 12,
                },
                { text: "😅 '선물은 좀 부담스러워'", affection: -7 },
                { text: "🤗 '네 마음이 가장 소중해'", affection: 10 },
              ],
            },
            {
              day: 14,
              text: "💬 [Event] 유빈이가 동균이의 취향에 대해 더 자세히 알고 싶어해요.",
              choices: [
                { text: "📝 자세히 설명해준다", affection: 8 },
                { text: "😐 '별로 특별한 취향은 없어'", affection: -5 },
                { text: "💕 '너의 취향도 궁금해'", affection: 10 },
              ],
            },
            {
              day: 15,
              text: "💬 [Event] 유빈이가 동균이와 함께 특별한 하루를 만들고 싶어해요.",
              choices: [
                { text: "🌟 함께 특별한 추억을 만든다", affection: 18 },
                { text: "😊 평범한 데이트로 만족한다", affection: 8 },
                { text: "💖 '매일이 너와 함께라면 특별해'", affection: 20 },
              ],
            },
          ];
          this.init();
        }

        init() {
          this.updateUI();
          this.showCurrentEvent();
        }

        updateUI() {
          document.getElementById("day-info").textContent = `Day ${this.day}`;
          document.getElementById("affection").textContent = this.affection;
          document.getElementById("mistakes").textContent = this.mistakes;

          // Update progress bars
          const affectionPercent = (this.affection / 100) * 100;
          const mistakesPercent = (this.mistakes / 3) * 100;

          document.getElementById(
            "affection-fill"
          ).style.width = `${affectionPercent}%`;
          document.getElementById(
            "mistakes-fill"
          ).style.width = `${mistakesPercent}%`;
        }

        showCurrentEvent() {
          const currentEvent = this.events.find(
            (event) => event.day === this.day
          );
          if (!currentEvent) {
            this.endGame();
            return;
          }

          const eventText = document.getElementById("event-text");
          const choices = document.getElementById("choices");

          eventText.textContent = currentEvent.text;
          choices.innerHTML = "";

          currentEvent.choices.forEach((choice, index) => {
            const button = document.createElement("button");
            button.className = "choice-btn";
            button.textContent = `${index + 1}. ${choice.text}`;
            button.onclick = () => this.makeChoice(choice);
            choices.appendChild(button);
          });
        }

        makeChoice(choice) {
          // Disable all buttons to prevent double clicks
          const buttons = document.querySelectorAll(".choice-btn");
          buttons.forEach((btn) => (btn.disabled = true));

          // Show choice feedback
          this.showChoiceFeedback(choice);

          setTimeout(() => {
            this.affection += choice.affection;
            this.affection = Math.max(0, Math.min(100, this.affection));

            if (choice.affection < 0) {
              this.mistakes++;
            }

            if (choice.flag) {
              this.specialFlags[choice.flag] = true;
            }

            this.day++;
            this.updateUI();

            // Check for max affection confession
            if (this.affection >= 100 && !this.specialFlags.hasConfession) {
              this.showMaxAffectionConfession();
              return;
            }

            if (this.mistakes >= 3 || this.affection <= 0) {
              this.endGame();
            } else {
              this.showCurrentEvent();
            }
          }, 1500);
        }

        showChoiceFeedback(choice) {
          const eventText = document.getElementById("event-text");
          const originalText = eventText.textContent;

          let feedbackText = "";
          let feedbackColor = "";

          if (choice.affection > 10) {
            feedbackText = "💖 유빈이가 정말 좋아해요! +" + choice.affection;
            feedbackColor = "#ff1744";
          } else if (choice.affection > 5) {
            feedbackText =
              "😊 유빈이의 기분이 좋아졌어요! +" + choice.affection;
            feedbackColor = "#ff6b6b";
          } else if (choice.affection > 0) {
            feedbackText = "🙂 괜찮은 선택이에요. +" + choice.affection;
            feedbackColor = "#4CAF50";
          } else if (choice.affection < -5) {
            feedbackText = "😞 유빈이가 많이 실망했어요... " + choice.affection;
            feedbackColor = "#f44336";
          } else {
            feedbackText = "😐 유빈이가 조금 아쉬워해요. " + choice.affection;
            feedbackColor = "#ff9800";
          }

          eventText.innerHTML = `
                    <div style="color: ${feedbackColor}; font-weight: bold; text-align: center; font-size: 1.3rem; padding: 1rem;">
                        ${feedbackText}
                    </div>
                `;

          setTimeout(() => {
            eventText.textContent = originalText;
          }, 1200);
        }

        showMaxAffectionConfession() {
          const eventText = document.getElementById("event-text");
          const choices = document.getElementById("choices");

          eventText.innerHTML = `
                    <div style="background: linear-gradient(135deg, #ffe6e6, #ffd6cc); padding: 2rem; border-radius: 15px; text-align: center;">
                        <div style="font-size: 1.5rem; margin-bottom: 1rem;">💕✨ 특별한 순간 ✨💕</div>
                        <div style="font-size: 1.2rem; line-height: 1.8; color: #333;">
                            "동균아... 너랑 함께 있으면 너무 행복해. 
                            나... 너를 정말 좋아해. 나랑 사귈래?"<br><br>
                            <em style="color: #ff6b6b;">유빈이가 용기를 내어 먼저 고백했어요!</em>
                        </div>
                    </div>
                `;

          choices.innerHTML = "";

          const confessionChoices = [
            {
              text: "💖 '나도 너를 좋아해! 물론이야!'",
              affection: 25,
              flag: "hasConfession",
              ending: "perfect",
            },
            {
              text: "🤗 '고마워... 나도 같은 마음이었어'",
              affection: 20,
              flag: "hasConfession",
              ending: "sweet",
            },
            {
              text: "😅 '좀 더 천천히 생각해볼까?'",
              affection: -15,
              ending: "friend_zone",
            },
            {
              text: "😰 '미안... 나는 아직...'",
              affection: -25,
              ending: "rejection",
            },
          ];

          confessionChoices.forEach((choice, index) => {
            const button = document.createElement("button");
            button.className = "choice-btn";
            button.style.fontSize = "1.1rem";
            button.style.padding = "1.5rem";
            button.textContent = `${index + 1}. ${choice.text}`;
            button.onclick = () => this.handleConfessionChoice(choice);
            choices.appendChild(button);
          });
        }

        handleConfessionChoice(choice) {
          const buttons = document.querySelectorAll(".choice-btn");
          buttons.forEach((btn) => (btn.disabled = true));

          this.affection += choice.affection;
          this.affection = Math.max(0, Math.min(100, this.affection));

          if (choice.flag) {
            this.specialFlags[choice.flag] = true;
          }

          this.specialFlags.confessionEnding = choice.ending;

          setTimeout(() => {
            this.endGame();
          }, 1000);
        }

        endGame() {
          const eventText = document.getElementById("event-text");
          const choices = document.getElementById("choices");

          let endingMessage = "";
          let endingEmoji = "";
          let endingTitle = "";

          // Special confession endings
          if (this.specialFlags.confessionEnding) {
            switch (this.specialFlags.confessionEnding) {
              case "perfect":
                endingTitle = "💕 완벽한 사랑 엔딩 💕";
                endingMessage =
                  "두 사람이 서로의 마음을 확인하고 완벽한 커플이 되었어요! 앞으로도 행복하게 지내세요! 💖";
                endingEmoji = "🌟";
                break;
              case "sweet":
                endingTitle = "💝 달콤한 연인 엔딩 💝";
                endingMessage =
                  "조금 수줍지만 진실한 마음이 통했어요. 두 사람의 사랑이 시작되었네요!";
                endingEmoji = "💕";
                break;
              case "friend_zone":
                endingTitle = "😅 친구존 엔딩 😅";
                endingMessage =
                  "아직은 친구로 남기로 했지만, 언젠가 다시 기회가 올지도 모르네요...";
                endingEmoji = "🤝";
                break;
              case "rejection":
                endingTitle = "💔 거절 엔딩 💔";
                endingMessage =
                  "유빈이의 용기있는 고백을 거절했어요. 하지만 좋은 추억으로 남을 거예요.";
                endingEmoji = "😢";
                break;
            }
          }
          // Regular endings
          else if (this.mistakes >= 3) {
            endingTitle = "❌ 실패 엔딩 ❌";
            endingMessage =
              "실수를 너무 많이 해서 유빈이가 실망했어요... 다음엔 더 신중하게 행동해보세요!";
            endingEmoji = "😔";
          } else if (this.affection <= 0) {
            endingTitle = "💔 이별 엔딩 💔";
            endingMessage =
              "호감도가 0이 되어 유빈이가 떠났어요... 상대방의 마음도 생각해보세요.";
            endingEmoji = "😭";
          } else if (this.affection >= 90 && this.specialFlags.hasConfession) {
            endingTitle = "👑 완벽한 엔딩 👑";
            endingMessage =
              "모든 선택을 완벽하게 하여 최고의 결과를 얻었어요! 두 사람의 미래가 기대되네요!";
            endingEmoji = "🏆";
          } else if (this.affection >= 80) {
            endingTitle = "💕 좋은 엔딩 💕";
            endingMessage =
              "유빈이와의 관계가 더욱 깊어졌어요! 앞으로도 서로를 아끼며 지내세요.";
            endingEmoji = "😊";
          } else if (this.affection >= 60) {
            endingTitle = "💝 평범한 엔딩 💝";
            endingMessage =
              "유빈이와 좋은 친구로 남았어요. 우정도 소중한 관계랍니다.";
            endingEmoji = "🙂";
          } else {
            endingTitle = "😢 아쉬운 엔딩 😢";
            endingMessage =
              "유빈이와의 관계가 소원해졌어요. 다시 시도해보세요!";
            endingEmoji = "😞";
          }

          // Calculate special achievements
          let achievements = [];
          if (this.specialFlags.hasGift) achievements.push("🎁 선물 마스터");
          if (this.specialFlags.hasDate) achievements.push("🍽️ 데이트 플래너");
          if (this.specialFlags.hasMovie) achievements.push("🎬 영화 러버");
          if (this.specialFlags.hasTravel) achievements.push("✈️ 여행 메이트");
          if (this.specialFlags.hasConfession)
            achievements.push("💖 고백 성공");
          if (this.mistakes === 0) achievements.push("⭐ 완벽주의자");
          if (this.affection === 100) achievements.push("💯 호감도 만점");

          eventText.innerHTML = `
                    <div class="ending-container">
                        <div class="ending-text">${endingEmoji} ${endingTitle}</div>
                        <div style="margin: 1.5rem 0; font-size: 1.1rem; line-height: 1.6;">
                            ${endingMessage}
                        </div>
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px; margin: 1rem 0; border-left: 4px solid #ff6b6b;">
                            <strong>📊 최종 결과</strong><br>
                            최종 호감도: <span style="color: #ff6b6b; font-weight: bold;">${
                              this.affection
                            }/100</span><br>
                            실수 횟수: <span style="color: #666; font-weight: bold;">${
                              this.mistakes
                            }/3</span><br>
                            진행한 날: <span style="color: #4CAF50; font-weight: bold;">${
                              this.day - 1
                            }일</span>
                        </div>
                        ${
                          achievements.length > 0
                            ? `
                        <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                            <strong style="color: #ff8f00;">🏅 획득한 업적</strong><br>
                            <div style="margin-top: 0.5rem;">
                                ${achievements.join(" • ")}
                            </div>
                        </div>
                        `
                            : ""
                        }
                    </div>
                `;

          choices.innerHTML = `
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                        <button class="restart-btn" onclick="location.reload()">🔄 다시 시작하기</button>
                        <button class="restart-btn" onclick="window.gameInstance.showStats()" style="background: linear-gradient(135deg, #2196F3, #1976D2);">📈 통계 보기</button>
                    </div>
                `;
        }

        showStats() {
          alert(
            `🎮 게임 통계\n\n총 ${this.day - 1}일 진행\n최고 호감도: ${
              this.affection
            }\n실수 횟수: ${this.mistakes}\n특별 이벤트: ${
              Object.values(this.specialFlags).filter((v) => v === true).length
            }개 달성`
          );
        }
      }

      // 게임 시작
      window.onload = () => {
        window.gameInstance = new DatingSimulator();
      };
    </script>
  </body>
</html>
